const Head={name:"Голова",max_hp:35,bleeding:!1,fracture:!1,zero_hp:!1,css_name:"HumanBody-Limb_head",div_id:"Head_id"};let Head_HP=35;const Head_div=document.getElementById("Head_id");let Head_PercentGradient=100;const Body={name:"Грудь",max_hp:85,bleeding:!1,fracture:!1,zero_hp:!1,css_name:"HumanBody-Limb_cheast",div_id:"Cheast_id"};let Body_HP=85;const Body_div=document.getElementById("Cheast_id");let Body_PercentGradient=100;const Stomach={name:"Живот",max_hp:70,bleeding:!1,fracture:!1,zero_hp:!0,css_name:"HumanBody-Limb_stomach",div_id:"Stomach_id"};let Stomach_HP=70;const Stomach_div=document.getElementById("Stomach_id");let Stomach_PercentGradient=100;const LeftHand={name:"Левая рука",max_hp:60,bleeding:!0,fracture:!0,zero_hp:!0,css_name:"HumanBody-Limb_leftHand",div_id:"LeftHand_id"};let LeftHand_HP=60;const LeftHand_div=document.getElementById("LeftHand_id");let LeftHand_PercentGradient=100;const RightHand={name:"Правая рука",max_hp:60,bleeding:!0,fracture:!0,zero_hp:!0,css_name:"HumanBody-Limb_rightHand",div_id:"RightHand_id"};let RightHand_HP=60;const RightHand_div=document.getElementById("RightHand_id");let RightHand_PercentGradient=100;const LeftLeg={name:"Левая нога",max_hp:65,bleeding:!0,fracture:!0,zero_hp:!0,css_name:"HumanBody-Limb_leftLeg",div_id:"LeftLeg_id"};let LeftLeg_HP=65;const LeftLeg_div=document.getElementById("LeftLeg_id");let LeftLeg_PercentGradient=100;const RightLeg={name:"Правая нога",max_hp:65,bleeding:!0,fracture:!0,zero_hp:!0,css_name:"HumanBody-Limb_rightLeg",div_id:"RightLeg_id"};let RightLeg_HP=65;const RightLeg_div=document.getElementById("RightLeg_id");let RightLeg_PercentGradient=100;const DamageButton=document.getElementById("DamageButton_id"),HealButton=document.getElementById("HealButton_id"),HumanBody_array=[Head,Body,Stomach,LeftHand,RightHand,LeftLeg,RightLeg],NamePartsArray=["Голова","Грудь","Живот","Левая рука","Правая рука","Левая нога","Правая нога"];let HP_array=[Head_HP,Body_HP,Stomach_HP,LeftHand_HP,RightHand_HP,LeftLeg_HP,RightLeg_HP];const div_array=[Head_div,Body_div,Stomach_div,LeftHand_div,RightHand_div,LeftLeg_div,RightLeg_div];let PercentGradient_array=[Head_PercentGradient,Body_PercentGradient,Stomach_PercentGradient,LeftHand_PercentGradient,RightHand_PercentGradient,LeftLeg_PercentGradient,RightLeg_PercentGradient];const AI2={id:"AI2_id",max_point:100,max_heal:50,bleeding_heal:!1,bleeding_str_heal:!1,fracture_heal:!1},Avto={id:"Avto_id",max_point:220,max_heal:70,bleeding_heal:!0,bleeding_str_heal:!1,fracture_heal:!1},Salewa={id:"IFAK_id",max_point:400,max_heal:50,bleeding_heal:!0,fracture_heal:!1},IFAK={id:"Salewa_id",max_point:300,max_heal:85,bleeding_heal:!0,bleeding_str_heal:!0,fracture_heal:!1},AFAK={id:"AFAK_id",max_point:400,max_heal:60,bleeding_heal:!0,bleeding_str_heal:!0,fracture_heal:!1},Grizzly={id:"Grizzly_id",max_point:1800,max_heal:175,bleeding_heal:!0,bleeding_str_heal:!0,fracture_heal:!0},FAKs_array=[AI2,Avto,Salewa,IFAK,AFAK,Grizzly];let Troubles=[],Troubles_sort=[],RandomWounds=[],NameDamageParts=[],HealSum=0;function randomInteger(e,a){let t=e+Math.random()*(a+1-e);return Math.floor(t)}function calc_percent(){for(let e=0;e<=div_array.length-1;e++)percent_gradient(div_array[e],PercentGradient_array[e],color(PercentGradient_array[e])),div_array[e].innerHTML=HP_array[e]+"/"+HumanBody_array[e].max_hp}function percent_gradient(e,a,t){e.setAttribute("style","background: linear-gradient(to right, #"+t+" "+a+"%, #010102 "+a+"%);")}function color(e){let a="19b43b";return e>50?a:e<50&&e>20?(a="cbce10",a):(a="a51e0c",a)}calc_percent();let quantity_part=0;function part_selection(){quantity_part=randomInteger(1,7)}function which_parts(){for(let e=0;e<quantity_part;e++){damage_part(randomInteger(1,7)-1)}unique(RandomWounds)}function damage_part(e){RandomWounds.push(NamePartsArray[e])}function unique(e){for(let a of e)NameDamageParts.includes(a)||NameDamageParts.push(a)}function DAMAGE(){part_selection(),which_parts();for(let e=0;e<=NameDamageParts.length-1;e++)for(let a=0;a<=6;a++)if(NameDamageParts[e]===HumanBody_array[a].name)switch(HP_array[a]=randomInteger(1,HumanBody_array[a].max_hp),NameDamageParts[e]){case"Голова":Head_HP=HP_array[a],PercentGradient_array[0]=Math.round(Head_HP/HumanBody_array[a].max_hp*100),head_percent_gradient=Math.round(Head_HP/HumanBody_array[a].max_hp*100);break;case"Грудь":body_hp_now=HP_array[a],PercentGradient_array[1]=Math.round(body_hp_now/HumanBody_array[a].max_hp*100);break;case"Живот":stomach_hp_now=HP_array[a],PercentGradient_array[2]=Math.round(stomach_hp_now/HumanBody_array[a].max_hp*100);break;case"Левая рука":left_hand_hp_now=HP_array[a],PercentGradient_array[3]=Math.round(left_hand_hp_now/HumanBody_array[a].max_hp*100),Math.round(left_hand_hp_now/HumanBody_array[a].max_hp*100)&&bleedings(LeftHand_div);break;case"Правая рука":right_hand_hp_now=HP_array[a],PercentGradient_array[4]=Math.round(right_hand_hp_now/HumanBody_array[a].max_hp*100),bleedings(RightHand_div);break;case"Левая нога":left_leg_hp_now=HP_array[a],PercentGradient_array[5]=Math.round(left_leg_hp_now/HumanBody_array[a].max_hp*100),bleedings(LeftLeg_div);break;case"Правая нога":right_leg_hp_now=HP_array[a],PercentGradient_array[6]=Math.round(right_leg_hp_now/HumanBody_array[a].max_hp*100),bleedings(RightLeg_div)}}function bleedings(e){let a=Math.random();a<.2?(e.className+=" DoubleBleeding_true",e.className+=" BleedingStrong_true"):a<.3?e.className+=" Bleeding_true":a<.6&&(e.className+=" BleedingStrong_true")}function reverse_bleeding(){const e=[LeftHand_div,RightHand_div,LeftLeg_div,RightLeg_div];for(let a=0;a<e.length;a++)e[a].classList.remove("BleedingStrong_true","Bleeding_true","DoubleBleeding_true")}function returnHP(){Head_HP=Head.max_hp,Body_HP=Body.max_hp,Stomach_HP=Stomach.max_hp,LeftHand_HP=LeftHand.max_hp,RightHand_HP=RightHand.max_hp,LeftLeg_HP=LeftLeg.max_hp,RightLeg_HP=RightLeg.max_hp,Troubles_sort=[];for(let e=0;e<=HP_array.length-1;e++)HP_array[e]=HumanBody_array[e].max_hp,PercentGradient_array[e]=100}DamageButton.onclick=function(){returnHP(),NameDamageParts=[],reverse_bleeding(),DAMAGE(),random_wounds=[],calc_percent()};let FAK_Container=document.getElementById("FirstAidKits_id"),FAKs=FAK_Container.getElementsByClassName("FirstAidKits-Fak");for(let e=0;e<FAKs.length;e++)FAKs[e].addEventListener("click",(function(){let e=document.getElementsByClassName("FirstAidKits-Fak_activeFAK");e[0].className=e[0].className.replace("FirstAidKits-Fak_activeFAK",""),this.className+=" FirstAidKits-Fak_activeFAK";let a=document.querySelector(".FirstAidKits-Fak_activeFAK");if("AI2_id"===a.id)document.getElementById("Bleeding_id").style.display="none",document.getElementById("BleedingStrong_id").style.display="none",document.querySelector(".PriorityNumbers").children[5].style.display="none",document.querySelector(".PriorityNumbers").children[6].style.display="none";else if("Avto_id"===a.id){document.getElementById("BleedingStrong_id").style.display="none",document.querySelector(".PriorityNumbers").children[6].style.display="none";let e="display: none;"===document.getElementById("Bleeding_id").getAttribute("style"),a="display: none;"===document.querySelector(".PriorityNumbers").children[5].getAttribute("style");e&&a&&(document.getElementById("Bleeding_id").style.display="flex",document.querySelector(".PriorityNumbers").children[5].style.display="flex")}else document.getElementById("Bleeding_id").style.display="flex",document.getElementById("BleedingStrong_id").style.display="flex",document.querySelector(".PriorityNumbers").children[5].style.display="flex",document.querySelector(".PriorityNumbers").children[6].style.display="flex"}));const PartsContainer=document.querySelector(".PriorityParts");let Parts=PartsContainer.querySelectorAll(".PriorityParts-Part");for(const e of Parts)e.draggable=!0;PartsContainer.addEventListener("dragstart",e=>{e.target.classList.add("drag-drop_true")}),PartsContainer.addEventListener("dragend",e=>{e.target.classList.remove("drag-drop_true")}),PartsContainer.addEventListener("dragover",e=>{e.preventDefault();const a=PartsContainer.querySelector(".drag-drop_true"),t=e.target;if(!(a!==t&&t.classList.contains("PriorityParts-Part")))return;const r=t===a.nextElementSibling?t.nextElementSibling:t;PartsContainer.insertBefore(a,r)}),HealButton.onclick=function(){priority_heal()};let PriorityFinal_array=[];function priority_heal(){const e=Array.from(PartsContainer.querySelectorAll(".PriorityParts-Part"));PriorityFinal_array=[];for(let a=0;a<e.length;a++)"display: none;"===e[a].getAttribute("style")||PriorityFinal_array.push(e[a].textContent);gradual_heal(PriorityFinal_array)}function gradual_heal(e){for(let e=0;e<div_array.length;e++)div_array[e].classList.contains("DoubleBleeding_true")&&div_array[e].classList.contains("BleedingStrong_true")?(Troubles.push("Тяжелое кровотечение"),Troubles.push("Легкое кровотечение"),HP_array[e]<HumanBody_array[e].max_hp&&Troubles.push(HumanBody_array[e].name)):div_array[e].classList.contains("DoubleBleeding_true")||div_array[e].classList.contains("Bleeding_true")?(Troubles.push("Легкое кровотечение"),HP_array[e]<HumanBody_array[e].max_hp&&Troubles.push(HumanBody_array[e].name)):div_array[e].classList.contains("BleedingStrong_true")?(Troubles.push("Тяжелое кровотечение"),HP_array[e]<HumanBody_array[e].max_hp&&Troubles.push(HumanBody_array[e].name)):HP_array[e]<HumanBody_array[e].max_hp&&Troubles.push(HumanBody_array[e].name);directly_healing(Troubles,PriorityFinal_array),Troubles=[]}function directly_healing(e,a){let t=e;Troubles_sort=[];for(let e=0;e<a.length;e++){if("Руки"===a[e]){let e=t.indexOf("Левая рука"),a=t.indexOf("Правая рука");if(e>=0&&a>=0){left_hand_hp_now<right_hand_hp_now?(Troubles_sort.push("Левая рука"),Troubles_sort.push("Правая рука")):(Troubles_sort.push("Правая рука"),Troubles_sort.push("Левая рука"));continue}e>=0?Troubles_sort.push("Левая рука"):a>=0&&Troubles_sort.push("Правая рука")}if("Ноги"===a[e]){let e=t.indexOf("Левая нога"),a=t.indexOf("Правая нога");if(e>=0&&a>=0){left_leg_hp_now<right_leg_hp_now?(Troubles_sort.push("Левая нога"),Troubles_sort.push("Правая нога")):(Troubles_sort.push("Правая нога"),Troubles_sort.push("Левая нога"));continue}e>=0?Troubles_sort.push("Левая нога"):a>=0&&Troubles_sort.push("Правая нога")}if("Голова"===a[e]&&t.indexOf("Голова")>=0&&Troubles_sort.push("Голова"),"Грудь"===a[e]&&t.indexOf("Грудь")>=0&&Troubles_sort.push("Грудь"),"Живот"===a[e]&&t.indexOf("Живот")>=0&&Troubles_sort.push("Живот"),"Тяжелое кровотечение"===a[e]){let e=t.filter(e=>"Тяжелое кровотечение"===e);if(e.length>=1)for(let a=0;a<e.length;a++)Troubles_sort.push("Тяжелое кровотечение")}if("Легкое кровотечение"===a[e]){let e=t.filter(e=>"Легкое кровотечение"===e);if(e.length>=1)for(let a=0;a<e.length;a++)Troubles_sort.push("Легкое кровотечение")}}bandaging(Troubles_sort)}function bandaging(e){if(Troubles.length){chek_heal();let a=0;switch(e[0]){case"Легкое кровотечение":let t=document.querySelector(".DoubleBleeding_true"),r=document.querySelector(".Bleeding_true");t?(t.classList.remove("DoubleBleeding_true"),e.shift()):(r.classList.remove("Bleeding_true"),e.shift());break;case"Тяжелое кровотечение":let n=document.querySelector(".BleedingStrong_true");n&&(n.classList.remove("BleedingStrong_true"),e.shift());break;case"Голова":a=Head_HP+HealSum,a>=Head.max_hp?(Head_HP=Head.max_hp,HP_array[0]=Head.max_hp,PercentGradient_array[0]=Math.round(Head_HP/HumanBody_array[0].max_hp*100),e.shift()):(Head_HP=a,HP_array[0]=a,PercentGradient_array[0]=Math.round(Head_HP/HumanBody_array[0].max_hp*100));break;case"Грудь":a=Body_HP+HealSum,a>=Body.max_hp?(Body_HP=Body.max_hp,HP_array[1]=Body.max_hp,PercentGradient_array[1]=Math.round(Body_HP/HumanBody_array[1].max_hp*100),e.shift()):(Body_HP=a,HP_array[1]=a,PercentGradient_array[1]=Math.round(Body_HP/HumanBody_array[1].max_hp*100));break;case"Живот":a=Stomach_HP+HealSum,a>=Stomach.max_hp?(Stomach_HP=Stomach.max_hp,HP_array[2]=Stomach.max_hp,PercentGradient_array[2]=Math.round(Stomach_HP/HumanBody_array[2].max_hp*100),e.shift()):(Stomach_HP=a,HP_array[2]=a,PercentGradient_array[2]=Math.round(Stomach_HP/HumanBody_array[2].max_hp*100));break;case"Левая рука":a=LeftHand_HP+HealSum,a>=LeftHand.max_hp?(LeftHand_HP=LeftHand.max_hp,HP_array[3]=LeftHand.max_hp,PercentGradient_array[3]=Math.round(LeftHand_HP/HumanBody_array[3].max_hp*100),e.shift()):(LeftHand_HP=a,HP_array[3]=a,PercentGradient_array[3]=Math.round(LeftHand_HP/HumanBody_array[3].max_hp*100));break;case"Правая рука":a=RightHand_HP+HealSum,a>=RightHand.max_hp?(RightHand_HP=RightHand.max_hp,HP_array[4]=RightHand.max_hp,PercentGradient_array[4]=Math.round(RightHand_HP/HumanBody_array[4].max_hp*100),e.shift()):(RightHand_HP=a,HP_array[4]=a,PercentGradient_array[4]=Math.round(RightHand_HP/HumanBody_array[4].max_hp*100));break;case"Левая нога":a=LeftLeg_HP+HealSum,a>=LeftLeg.max_hp?(LeftLeg_HP=LeftLeg.max_hp,HP_array[5]=LeftLeg.max_hp,PercentGradient_array[5]=Math.round(LeftLeg_HP/HumanBody_array[5].max_hp*100),e.shift()):(LeftLeg_HP=a,HP_array[5]=a,PercentGradient_array[5]=Math.round(LeftLeg_HP/HumanBody_array[5].max_hp*100));break;case"Правая нога":a=RightLeg_HP+HealSum,a>=RightLeg.max_hp?(RightLeg_HP=RightLeg.max_hp,HP_array[6]=RightLeg.max_hp,PercentGradient_array[6]=Math.round(RightLeg_HP/HumanBody_array[6].max_hp*100),e.shift()):(RightLeg_HP=a,HP_array[6]=a,PercentGradient_array[6]=Math.round(RightLeg_HP/HumanBody_array[6].max_hp*100))}calc_percent()}else e=[]}function chek_heal(){let e=document.querySelector(".FirstAidKits-Fak_activeFAK");for(let a=0;a<FAKs_array.length;a++)if(e.id===FAKs_array[a].id)return HealSum=FAKs_array[a].max_heal,HealSum}
